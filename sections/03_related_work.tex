\section{Trabalhos Relacionados}

\todoin[size=\scriptsize,linecolor=gray,backgroundcolor=gray!25,bordercolor=gray]{
\begin{center}
\begin{tabular}{lcp{7cm}}
	\multicolumn{1}{c}{\textbf{Artigo}} & \multicolumn{1}{c}{\textbf{Níveis de Cache}} & \multicolumn{1}{c}{\textbf{Descrição}} \\
	\cite{Smullen2011} & L1,L2,L3 & Primeiro artigo a abordar STT-RAM volátil \\
	\cite{li2011} & L1 e L2 & \\
	\cite{Sun2011} & & \\
	\cite{Jog2012} & & \\
	\cite{Chang2013} & & \\
	\cite{Li2015} & & \\
	\cite{Kim2015} & & \\
	\cite{qiu2016} & & \\
	\cite{kim2016} & & \\
\end{tabular}
\end{center}
}

% Smullen2011 %

	O primeiro trabalho que faz um estudo e apresenta o conceito de STT-RAM volátil é visto em~\cite{Smullen2011}. Este trabalho primeiramente explica como a STT-RAM pode ser volátil -- efeito atingido através da redução da área planar da camada livre da MTJ da célula de memória. O artigo apresenta um modelo de STT-RAM volátil, exibe técnicas para otimização desta memória para prover melhorias no desempenho da escrita. Este modelo é testado em todos os níveis de \textit{cache} nas questões de desempenho, energia e \textit{energy-delay}. Por fim, com a perda de retenção da STT-RAM, os dados em memória não podem ser perdidos. Com isto, o trabalho estuda um esquema simples de \textit{refresh} que adiciona pouco \textit{overhead} sobre o sistema de memória.

	A primeira avaliação é efetuada sobre a relação entre as velocidades de leitura e escrita de uma célula STT-RAM. Chega-se a conclusão de que a fim de reduzir a latência das escritas, deve-se aumentar o tempo das leituras sem que isto deteriore o desepenho geral das leituras. Fazendo-se o processo reverso, i.e., aumentando o tempo de escrita numa célula da STT-RAM, a latência de leitura tende a diminuir. Outra análise é feita diminuindo a área planar da célula STT-RAM, sendo esta diretamente proporcional ao tempo de retenção do dado (Uma célula de $10F^2$ tem tempo de retenção de somente $56\mu s$). Ao reduzir o tempo de retenção, melhorias são percebidas na latência de escritas, bem como na energia em operações de leitura e escrita.

	O trabalho faz então avaliações do impacto do uso da STT-RAM volátil através de simulações com \textit{benchmarks}. Primeiramente, efetua-se a troca de todas as \textit{caches} SRAM por STT-RAM voláteis, verificando que em questões de desempenho a maioria dos casos estudados existem perdas devido ao acréscimo nos tempos de escrita em memória. Em contrapartida, há uma redução de mais de 3x na fuga de energia ao usar STT-RAM. Outras avaliações que geraram resultados também foram realizadas, porém considerando hierarquias de memórias híbridas, podendo incluir tanto SRAM como os diferentes modelos de STT-RAM mostrados anteriormente. Os modelos de \textit{cache} híbridos com STT-RAM de área $19F^2$ e $10F^2$ conseguem ter desempenho igual ou melhor comparado com \textit{caches} SRAM. Nestes modelos híbridos, a redução do consumo energético é menor se comparada com \textit{caches} puramente de tecnologia STT-RAM, porém ainda assim há ganhos consideráveis comparando com as SRAM.

	\warning[inline]{Falar sobre o método de refresh}

	\warning[inline]{Conclusões}

% Li2011 %

	No trabalho apresentado em \cite{li2011}, é realizado um \textit{tradeoff} sobre o desempenho, confiabilidade e consumo energético das STT-RAM, aplicados aos requisitos no nível de arquitetura. No trabalho é apresentada a modelagem da STT-RAM para a redução do tempo de retenção dos dados. O objetivo é a aplicação em níveis mais específicos da hierarquia de memória, com foco em \textit{caches on-chip}.
	
	Primeiramente é feita uma análise para verificar quais são os impactos na quebra da não volatilidade da STT-RAM, para isso é realizada uma simulação de três diferentes desenhos do MTJ com 45x95nm de tamanho. São realizadas duas otimizações da \textit{baseline}, chamadas de Opt1 e Opt2. Sendo a \textit{baseline} com seu tempo de retenção de dados de 4.27 anos e os outros dois otimizados para chaveamento (quando menor o tempo de retenção dos dados, menor o tempo necessário para chaveamento). Nos testes faz-se perceber que ao reduzir o tempo de retenção dos dados de 4 anos para $265 \mu s$, a corrente decai de $164.5 \mu A$ para $71.4 \mu A$ para um tempo de chaveamento de $10ns$ e temperatura de $350K$. Ao se colocar uma corrente de $125 \mu A$ o tempo de chaveamento dos três MJTs varia de $29.8ns$ para $3.6ns$, um ganho de ate 8 vezes.
	
	É demostrando também a dependência da temperatura. A estabilidade da barreira magnética do MJT é sensível a temperatura de trabalho, assim, ao se aumentar a temperatura de 275K para 350K a corrente de chaveamento tende a diminuir. Logo apos, o trabalho apresenta estatísticas de padrão de acesso a \textit{cache}. Uma simulação é feita em um processador \textit{quad-core} sobre as seguintes configurações de \textit{cache} L1 de dados e L2:

\begin{table}[]
\centering
\begin{tabular}{lcc}
\hline
                             & \multicolumn{1}{l}{\textit{Cache} de dados L1} & \multicolumn{1}{l}{\textit{Cache} L2} \\ \hline
Tamanho (Bytes)              & 32768                                 & 4194304                       \\ \hline
Associatividade              & 8                                     & 16                            \\ \hline
Tamanho do bloco (bytes)     & 64                                    & 64                            \\ \hline
Latência de Leitura (ciclos) & 3                                     & 14                            \\ \hline
\end{tabular}
\caption{Configuração das \textit{caches} L1 de dados e L2, para a simulação.}
\label{my-label}
\end{table}	
	
	 O teste é realizado usando quatro aplicações do SPEC benchmark que são: 401.bzip2, 433.milc, 434zeusmp e 470lbm. Cada uma destas aplicações é executada em um \textit{core} diferente, sendo simulado um total de 2 bilhões de instruções. Para a \textit{cache} L1 mais de 95\% dos dados são acessados nos primeiros $10^{5}$ ciclos de \textit{clock}, apos isto, estes dados são carregados ou atualizados. Em alguns casos, como no \textit{benchmark} 401.bzip2 o número pode alcançar até 99\% e que comportamentos similares se apresentaram na \textit{cache} L2. Estas observações demostram que uma pequena porção da \textit{cache} de dados será ativa por longos períodos, como exemplo do \textit{benchmark} 401.bzip2 que o tempo entre uma escrita e o último tempo em que os dados são lidos, excede $10^6$ ciclos de \textit{clock}. Este tempo entre leitura e escrita é utilizado para determinar o tempo mínimo de retenção de dados pelo MTJ.
	 
	 No final é apresentado um modelo de \textit{cache} híbrida conjunto associativa com $n$-vias, onde a mesma é dividida em dois modelos de MTJ, um com baixa retenção de dados (utilizando os dados apresentados anteriormente) e outra com alta retenção. Cada bloco da \textit{cache} otimizada contém um contador que verifica quanto tempo os dados estão armazenados no bloco. Caso estes estejam por muito tempo, o sistema copia os dados da \textit{cache} otimizada para a não otimizada. Para avaliar o desempenho, este novo modelo é comparado a um usando STT-RAM sem otimização. Os resultados mostram que usando metade das vias de uma \textit{cache} L2 com 16 vias otimizada, o desempenho do novo modelo chega a ser 80\% melhor. A conclusão é que a redução da não volatilidade da STT-RAM e o uso de uma \textit{cache} híbrida, podem aumentar o desempenho e reduzir o consumo energético. Estas conclusões são retiradas da análise do modelo proposto e os testes realizados com os \textit{benchmarks}.